<app-page-header [title]="'Permissions'" [items]="['Forms']" [active_item]="'Permission'"></app-page-header>

<div class="row row-sm">
  <div class="col-sm-12 col-lg-12 col-xl-12">
    <div class="card custom-card">
        <div class="">
            <div class="p-3 border-bottom">
                <div class="d-flex align-items-center mb-3">
                    <h5 class="mb-0">Job Permission</h5>
                </div>
                <!-- <div class="form-group">
                    <ng-select #select [items]="roles" [(ngModel)]="roleId" (change)="onChangeRole()"
                      bindLabel="roleName" bindValue="roleId">
                    </ng-select>
                  </div> -->
            </div>
        </div>
    </div>
</div>
<!-- <div class="col-sm-6 col-lg-6 col-xl-6">
  <div class="card custom-card">
      <div class="">
          <div class="p-3 border-bottom">
              <div class="d-flex align-items-center mb-3">
                  <h5 class="mb-0">Department</h5>
              </div>
              <div class="form-group">
                  <ng-select #select [items]="deparments" [(ngModel)]="departmentId" (change)="onChangeDepartment()"
                    bindLabel="departmentName" bindValue="departmentId">
                  </ng-select>
                </div>
          </div>
      </div>
  </div>
</div> -->
</div>
  <div class="row">
    <div class="col-xl-12">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Role Permission</h3>
        </div>
        <div class="card-body h-100">
          <div id="accordion" class="w-100 br-2 overflow-hidden">
          <table class="table table-bordered border text-nowrap mb-0" id="new-edit">
            <thead>
              <tr>
                <th>Role</th>
                <th>Department</th>
                <th>Job Creator</th>
                <th>Job Approver</th>             
                <th>Job Publisher</th>              
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of jobPermissionList;let ndx = index">
                <td>{{item.roleName}}</td>
                <td>{{item.departmentName}}</td>
                <td>
                   <label>
                    <input (click)="IsJobCreator(item)" type="checkbox" [checked]="item.isJobCreator"
                      name="form-switch-checkbox1" class="form-switch-input">
                    <span class="form-switch-indicator"></span>
                  </label>
                </td>
                <td>
                  <label>
                    <input (click)="IsJobApprover(item)" type="checkbox" [checked]="item.isJobApprover"
                      name="form-switch-checkbox1" class="form-switch-input">
                    <span class="form-switch-indicator"></span>
                  </label>
                </td>
                
                <td>
                  <label>
                    <input (click)="IsJobPublisher(item)" type="checkbox" [checked]="item.isJobPublisher"
                      name="form-switch-checkbox1" class="form-switch-input">
                    <span class="form-switch-indicator"></span>
                  </label>
                </td>
              </tr>
            </tbody>
          </table>
          </div>
        </div>
      </div>
    </div>
  </div>